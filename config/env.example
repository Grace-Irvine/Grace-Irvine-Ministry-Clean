# MCP Server 环境变量配置示例
# 复制此文件并根据你的环境填入实际值

# ============================================================
# 基础配置
# ============================================================

# Google Cloud 项目 ID（Secret Manager 需要此配置）
# 如果设置了此变量，服务会自动尝试从 Secret Manager 读取 tokens
GCP_PROJECT_ID=your-project-id

# Google Cloud 区域
GCP_REGION=us-central1

# 服务账号 JSON 文件路径（本地开发）
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# 配置文件路径
CONFIG_PATH=config/config.json

# ============================================================
# MCP Server 配置
# ============================================================

# MCP 运行模式 (http=MCP HTTP Server, 默认=FastAPI App)
MCP_MODE=http

# 是否启用鉴权 (true/false)
MCP_REQUIRE_AUTH=true

# Bearer Token（生成命令：openssl rand -hex 32）
# 优先从环境变量读取，如果没有则从 Google Secret Manager 自动读取（secret: mcp-bearer-token）
# 生产环境推荐使用 Secret Manager，本地开发使用环境变量
# 参考文档: docs/SECRET_MANAGEMENT.md
MCP_BEARER_TOKEN=your-secure-bearer-token-here

# MCP 服务名称（Cloud Run）
MCP_SERVICE_NAME=ministry-data-mcp

# ============================================================
# 服务器配置
# ============================================================

# 服务端口
PORT=8080

# 内存限制（Cloud Run）
MEMORY=512Mi

# CPU 数量（Cloud Run）
CPU=1

# 最大实例数
MAX_INSTANCES=10

# 最小实例数
MIN_INSTANCES=0

# 请求超时时间（秒）
TIMEOUT=300

# ============================================================
# 使用方法
# ============================================================

# 本地开发：
# 1. 复制此文件: cp config/env.example .env
# 2. 编辑 .env 填入实际值
# 3. 加载环境变量: source .env 或 export $(cat .env | xargs)
# 4. 启动服务器: ./test_mcp_server.sh

# Cloud Run 部署：
# 1. 设置必要的环境变量
# 2. 运行部署脚本: ./deploy-mcp-cloud-run.sh

