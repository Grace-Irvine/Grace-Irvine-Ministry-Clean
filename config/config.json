{
  "source_sheet": {
    "url": "https://docs.google.com/spreadsheets/d/1wescUQe9rIVLNcKdqmSLpzlAw9BGXMZmkFvjEF296nM/edit#gid=0",
    "range": "总表!A1:Z",
    "header_rows": 2,
    "department_row": 1,
    "column_row": 2
  },
  "departments": {
    "sermon": {
      "name": "讲道",
      "roles": ["preacher", "reading"]
    },
    "worship": {
      "name": "敬拜部",
      "roles": ["worship_lead", "worship_team_1", "worship_team_2", "pianist"]
    },
    "technical": {
      "name": "媒体部",
      "roles": ["audio", "video", "propresenter_play", "propresenter_update", "video_editor"]
    },
    "education": {
      "name": "儿童部",
      "roles": ["friday_child_ministry", "sunday_child_assistant_1", "sunday_child_assistant_2", "sunday_child_assistant_3"]
    }
  },
  "schema_validation": {
    "enabled": true,
    "auto_detect_new_columns": true,
    "strict_mode": false
  },
  "target_sheet": {
    "url": "https://docs.google.com/spreadsheets/d/1ypiXsdrfOrWxsAVJxQfZVwA0qtzRzb-siGiV2vixuoc/edit#gid=0",
    "range": "clean_sheet!A1"
  },
  "columns": {
    "service_date": "主日日期",
    "series": "讲道系列",
    "sermon_title": "讲道标题",
    "scripture": "经文",
    "catechism": "要理问答",
    "preacher": "讲员",
    "reading": "读经",
    "worship_lead": "敬拜带领",
    "worship_team_1": "敬拜同工1",
    "worship_team_2": "敬拜同工2",
    "pianist": "司琴",
    "songs": "詩歌",
    "audio": "音控",
    "video": "导播/摄影",
    "propresenter_play": "ProPresenter播放",
    "propresenter_update": "ProPresenter更新",
    "video_editor": "视频剪辑",
    "friday_child_ministry": "周五老师",
    "sunday_child_assistant_1": "周日助教1",
    "sunday_child_assistant_2": "周日助教2",
    "sunday_child_assistant_3": "周日助教3"
  },
  "cleaning_rules": {
    "date_format": "YYYY-MM-DD",
    "strip_spaces": true,
    "trim_fullwidth_spaces": true,
    "capitalize_names": true,
    "normalize_scripture": true,
    "split_songs_delimiters": ["、", ",", "/", "|"],
    "role_whitelist": [
      "敬拜带领",
      "敬拜同工",
      "司琴",
      "音控",
      "导播/摄影",
      "ProPresenter播放",
      "ProPresenter更新",
      "助教"
    ]
  },
  "alias_sources": {
    "people_alias_sheet": {
      "url": "https://docs.google.com/spreadsheets/d/1ypiXsdrfOrWxsAVJxQfZVwA0qtzRzb-siGiV2vixuoc/edit?gid=92852375#gid=92852375",
      "range": "generated_aliases!A1:D"
    },
    "auto_sync": true,
    "include_count": true,
    "role_fields": [
      "preacher",
      "reading",
      "worship_lead",
      "worship_team_1",
      "worship_team_2",
      "pianist",
      "audio",
      "video",
      "propresenter_play",
      "propresenter_update",
      "video_editor",
      "friday_child_ministry",
      "sunday_child_assistant_1",
      "sunday_child_assistant_2",
      "sunday_child_assistant_3"
    ]
  },
  "volunteer_metadata_sheet": {
    "url": "https://docs.google.com/spreadsheets/d/1ypiXsdrfOrWxsAVJxQfZVwA0qtzRzb-siGiV2vixuoc/edit?gid=900093610#gid=900093610",
    "range": "volunteer_metadata!A1:H"
  },
  "output_options": {
    "overwrite": true,
    "append_timestamp": true,
    "timestamp_field": "updated_at",
    "emit_csv_preview": "logs/clean_preview.csv",
    "emit_json_preview": "logs/clean_preview.json",
    "log_changes": true
  },
  "service_layer": {
    "enabled": true,
    "domains": ["sermon", "volunteer"],
    "local_output_dir": "logs/service_layer",
    "storage": {
      "provider": "gcs",
      "bucket": "grace-irvine-ministry-data",
      "base_path": "domains/",
      "service_account_file": "config/service-account.json",
      "enable_versioning": true
    },
    "output_options": {
      "latest_file": true,
      "yearly_files": true,
      "quarterly_files": false,
      "monthly_files": false
    }
  }
}

