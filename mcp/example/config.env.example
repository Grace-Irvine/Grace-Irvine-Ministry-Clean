# 每周事工预览定时器服务环境变量配置示例
# 使用方法: 复制此文件为 config.env，填入实际值，然后 source config.env

# ============================================================
# MCP Server 配置（已预设默认值）
# ============================================================
# MCP 服务器 URL（如果使用默认值，无需设置）
# MCP_SERVER_URL=https://ministry-data-mcp-wu7uk5rgdq-uc.a.run.app

# MCP Bearer Token（如果使用默认值，无需设置）
# 生产环境推荐使用 Secret Manager (secret: mcp-bearer-token)
# 本地开发可使用环境变量，服务会自动从 Secret Manager 或环境变量读取
# 参考文档: docs/SECRET_MANAGEMENT.md
# MCP_BEARER_TOKEN=db1d18390fd3f1d632ed66e5216a834d37d03e14d920dd9c94670f274dd0cc30

# ============================================================
# 邮件配置
# ============================================================
# SMTP 服务器（默认 Gmail）
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587

# 发件人邮箱（默认使用 jonathanjing@graceirvine.org）
SMTP_USER=jonathanjing@graceirvine.org
# SMTP 密码
# 生产环境推荐使用 Secret Manager (secret: weekly-preview-smtp-password)
# 本地开发可使用环境变量，服务会自动从 Secret Manager 或环境变量读取
# 参考文档: docs/SECRET_MANAGEMENT.md
SMTP_PASSWORD=your-gmail-app-password-here  # Gmail 应用专用密码

# 发件人地址（默认使用 SMTP_USER）
EMAIL_FROM=jonathanjing@graceirvine.org

# 收件人地址（必需，支持多个，用逗号分隔）
EMAIL_TO=recipient1@example.com,recipient2@example.com

# 抄送地址（可选）
# EMAIL_CC=cc@example.com

# ============================================================
# Cloud Scheduler 认证
# ============================================================
# Scheduler 认证令牌（必需，建议使用强随机字符串）
# 生成方式: openssl rand -hex 32
# 生产环境推荐使用 Secret Manager (secret: weekly-preview-scheduler-token)
# 本地开发可使用环境变量，服务会自动从 Secret Manager 或环境变量读取
# 参考文档: docs/SECRET_MANAGEMENT.md
SCHEDULER_TOKEN=your-secure-random-token-here

# ============================================================
# 部署配置（可选）
# ============================================================
# GCP 项目 ID（从 gcloud config 自动获取）
# PROJECT_ID=your-project-id

# Cloud Run 区域
# REGION=us-central1

# 服务名称
# SERVICE_NAME=weekly-preview-scheduler

# 调度时间（cron 格式）
# SCHEDULE=0 9 * * 1  # 每周一早上9点

# 时区
# TIME_ZONE=America/Los_Angeles

# ============================================================
# Secret Manager 配置（生产环境推荐）
# ============================================================
# 如果设置了 GCP_PROJECT_ID，服务会自动尝试从 Secret Manager 读取以下 secrets:
# - mcp-bearer-token (MCP_BEARER_TOKEN)
# - weekly-preview-scheduler-token (SCHEDULER_TOKEN)
# - weekly-preview-smtp-password (SMTP_PASSWORD)
#
# 创建和管理 secrets 的详细说明请参考:
# - docs/SECRET_MANAGEMENT.md - Secret Manager 最佳实践
# - docs/SECRETS_INVENTORY.md - 完整的 Secrets 清单
#
# 本地开发：使用环境变量（如上设置）
# 生产环境：使用 Secret Manager（推荐）
# GCP_PROJECT_ID=your-project-id  # 启用 Secret Manager 读取
