# ğŸš€ 5 åˆ†é’Ÿè¿æ¥ ChatGPT

## å½“å‰è¿è¡ŒçŠ¶æ€

### âœ… æœåŠ¡å™¨å·²å¯åŠ¨

```
MCP HTTP æœåŠ¡å™¨
ç«¯å£: 8090
çŠ¶æ€: âœ… è¿è¡Œä¸­
è®¤è¯: ç¦ç”¨ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰
```

### âœ… ngrok éš§é“å·²åˆ›å»º

```
å…¬å…± URL: https://2e3dfdd56609.ngrok-free.app
MCP ç«¯ç‚¹: https://2e3dfdd56609.ngrok-free.app/mcp
çŠ¶æ€: âœ… æ´»åŠ¨ä¸­
```

---

## ğŸ“‹ ChatGPT é…ç½®æ­¥éª¤

### æ­¥éª¤ 1: æ‰“å¼€ ChatGPT è®¾ç½®

1. è®¿é—® [ChatGPT](https://chat.openai.com)
2. ç‚¹å‡»å·¦ä¸‹è§’æ‚¨çš„å¤´åƒ
3. é€‰æ‹© **Settings**ï¼ˆè®¾ç½®ï¼‰

### æ­¥éª¤ 2: è¿›å…¥è¿æ¥å™¨è®¾ç½®

1. åœ¨è®¾ç½®èœå•ä¸­ï¼Œæ‰¾åˆ° **Connectors**ï¼ˆè¿æ¥å™¨ï¼‰
2. ç‚¹å‡» **Advanced**ï¼ˆé«˜çº§ï¼‰
3. å¼€å¯ **Developer mode**ï¼ˆå¼€å‘è€…æ¨¡å¼ï¼‰

### æ­¥éª¤ 3: åˆ›å»ºæ–°è¿æ¥å™¨

ç‚¹å‡» **Create** æŒ‰é’®ï¼Œå¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š

#### åŸºæœ¬ä¿¡æ¯

**Connector nameï¼ˆè¿æ¥å™¨åç§°ï¼‰**:
```
Grace Irvine Ministry Data
```

**Descriptionï¼ˆæè¿°ï¼‰**:
```
æ•™ä¼šä¸»æ—¥äº‹å·¥æ•°æ®ç®¡ç†ç³»ç»Ÿ

åŠŸèƒ½ï¼š
â€¢ æŸ¥è¯¢åŒå·¥æœä¾å®‰æ’ï¼ˆæ•¬æ‹œã€æŠ€æœ¯ç­‰ï¼‰
â€¢ æŸ¥è¯¢è¯é“ä¿¡æ¯ï¼ˆè®²å‘˜ã€é¢˜ç›®ã€ç»æ–‡ï¼‰
â€¢ ç»Ÿè®¡åˆ†æè®²é“ç³»åˆ—å’ŒåŒå·¥æœä¾
â€¢ æ•°æ®æ¸…æ´—å’ŒéªŒè¯
```

**Connector URLï¼ˆè¿æ¥å™¨ URLï¼‰**:
```
https://2e3dfdd56609.ngrok-free.app/mcp
```

### æ­¥éª¤ 4: ä¿å­˜å¹¶éªŒè¯

1. ç‚¹å‡» **Create**
2. ChatGPT ä¼šè¿æ¥åˆ°æ‚¨çš„ MCP æœåŠ¡å™¨
3. å¦‚æœæˆåŠŸï¼Œæ‚¨ä¼šçœ‹åˆ° **7 ä¸ªå·¥å…·**çš„åˆ—è¡¨

---

## ğŸ§ª æµ‹è¯•å¯¹è¯

### æµ‹è¯• 1: æŸ¥è¯¢åŒå·¥æœä¾

åœ¨ ChatGPT ä¸­è¾“å…¥ï¼š

```
è¯·æŸ¥è¯¢ 2025 å¹´ 10 æœˆ 12 æ—¥çš„åŒå·¥æœä¾å®‰æ’
```

**é¢„æœŸç»“æœ**:
- æ˜¾ç¤º"æ­£åœ¨æŸ¥è¯¢åŒå·¥æœä¾å®‰æ’..."
- è¿”å›æ•¬æ‹œä¸»é¢†ã€å¸ç´ã€æŠ€æœ¯åŒå·¥ç­‰ä¿¡æ¯

### æµ‹è¯• 2: æŸ¥è¯¢è¯é“

```
2025 å¹´ 10 æœˆ 12 æ—¥çš„è¯é“æ˜¯ä»€ä¹ˆå†…å®¹ï¼Ÿ
```

**é¢„æœŸç»“æœ**:
- è°ƒç”¨ `query_sermon_by_date`
- è¿”å›è®²å‘˜ã€é¢˜ç›®ã€ç»æ–‡ä¿¡æ¯

### æµ‹è¯• 3: åˆ†æç»Ÿè®¡

```
è¯·åˆ†æ 2025 å¹´ 10 æœˆçš„åŒå·¥æœä¾æƒ…å†µ
```

**é¢„æœŸç»“æœ**:
- è°ƒç”¨ `query_date_range`
- è¿”å›æ•´æœˆçš„æœä¾è®°å½•å’Œç»Ÿè®¡

---

## âœ… éªŒè¯æˆåŠŸæ ‡å¿—

å½“è¿æ¥æˆåŠŸæ—¶ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š

1. **å·¥å…·è°ƒç”¨æ˜¾ç¤º**
   - âœ… å·¥å…·åç§°æ˜¾ç¤º
   - âœ… çŠ¶æ€æç¤ºï¼ˆ"æ­£åœ¨æŸ¥è¯¢..." â†’ "æŸ¥è¯¢å®Œæˆ"ï¼‰
   - âœ… ç»“æœä»¥è‡ªç„¶è¯­è¨€å‘ˆç°

2. **æ•°æ®å‡†ç¡®æ€§**
   - âœ… è¿”å›çš„æ—¥æœŸã€äººåæ­£ç¡®
   - âœ… æ•°æ®ç»“æ„å®Œæ•´
   - âœ… ä¸­æ–‡æ˜¾ç¤ºæ­£å¸¸

---

## ğŸ”„ åˆ·æ–°å…ƒæ•°æ®

å¦‚æœæ‚¨ä¿®æ”¹äº†å·¥å…·æˆ–æ·»åŠ äº†æ–°åŠŸèƒ½ï¼š

1. é‡å¯ MCP æœåŠ¡å™¨
2. åœ¨ ChatGPT **Settings â†’ Connectors** ä¸­
3. ç‚¹å‡»æ‚¨çš„è¿æ¥å™¨
4. é€‰æ‹© **Refresh**
5. éªŒè¯å·¥å…·åˆ—è¡¨æ›´æ–°

---

## âš ï¸ é‡è¦æç¤º

### ngrok é™åˆ¶

å…è´¹ç‰ˆ ngrok çš„é™åˆ¶ï¼š
- ğŸ”„ **URL ä¼šå˜åŒ–**ï¼šæ¯æ¬¡é‡å¯ ngrok ä¼šç”Ÿæˆæ–° URL
- â±ï¸ **ä¼šè¯è¶…æ—¶**ï¼šé•¿æ—¶é—´ä¸æ´»åŠ¨å¯èƒ½æ–­å¼€
- ğŸ“Š **è¯·æ±‚é™åˆ¶**ï¼šæœ‰æµé‡é™åˆ¶

**è§£å†³æ–¹æ¡ˆ**ï¼š
- çŸ­æœŸæµ‹è¯•ï¼šå¯ä»¥æ¥å—
- ç”Ÿäº§ä½¿ç”¨ï¼šéƒ¨ç½²åˆ° Cloud Runï¼ˆå›ºå®š URLï¼‰

### è·å–æ–°çš„ ngrok URL

å¦‚æœ ngrok é‡å¯äº†ï¼Œè·å–æ–° URLï¼š

```bash
curl -s http://localhost:4040/api/tunnels | \
  python3 -c "import json, sys; print(json.load(sys.stdin)['tunnels'][0]['public_url'])"
```

ç„¶ååœ¨ ChatGPT ä¸­æ›´æ–°è¿æ¥å™¨ URL å¹¶åˆ·æ–°ã€‚

---

## ğŸš€ ç”Ÿäº§éƒ¨ç½²

### æ¨è: Cloud Run

ä¸€é”®éƒ¨ç½²åˆ° Google Cloud Runï¼ˆè·å¾—ç¨³å®šçš„ HTTPS URLï¼‰ï¼š

```bash
./deploy-mcp-cloud-run.sh
```

**ä¼˜åŠ¿**:
- âœ… å›ºå®šçš„ HTTPS URLï¼ˆä¸ä¼šå˜åŒ–ï¼‰
- âœ… è‡ªåŠ¨æ‰©å±•
- âœ… å…è´¹é¢åº¦å……è¶³
- âœ… æ— éœ€ ngrok

**éƒ¨ç½²å**:
- URL æ ¼å¼: `https://YOUR_SERVICE-wu7uk5rgdq-uc.a.run.app/mcp`
- åœ¨ ChatGPT ä¸­æ›´æ–°è¿æ¥å™¨ URL
- å»ºè®®å¯ç”¨è®¤è¯ï¼ˆè®¾ç½® `MCP_BEARER_TOKEN`ï¼‰

---

## ğŸ“Š ç›‘æ§

### æŸ¥çœ‹è¯·æ±‚

ngrok Web ç•Œé¢: http://localhost:4040

### æŸ¥çœ‹æ—¥å¿—

```bash
# MCP æœåŠ¡å™¨æ—¥å¿—
tail -f /tmp/mcp_8090.log

# ngrok æ—¥å¿—
tail -f /tmp/ngrok_8090.log
```

### å¥åº·æ£€æŸ¥

```bash
# æœ¬åœ°
curl http://localhost:8090/health

# å…¬ç½‘
curl https://2e3dfdd56609.ngrok-free.app/health
```

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

### å½“å‰ ngrok URL

```
https://2e3dfdd56609.ngrok-free.app/mcp
```

### åœæ­¢æ‰€æœ‰æœåŠ¡

```bash
pkill -f mcp_http_server.py
pkill ngrok
```

### é‡å¯æ‰€æœ‰æœåŠ¡

```bash
cd /Users/jonathan_jing/SynologyDrive/Study/AI/Grace-Irvine-Ministry-Clean
MCP_REQUIRE_AUTH=false PORT=8090 python3 mcp_http_server.py > /tmp/mcp_8090.log 2>&1 &
ngrok http 8090 > /tmp/ngrok_8090.log 2>&1 &
sleep 5
curl -s http://localhost:4040/api/tunnels | python3 -c "import json, sys; print('MCP URL:', json.load(sys.stdin)['tunnels'][0]['public_url'] + '/mcp')"
```

---

## ğŸ“š æ›´å¤šèµ„æº

- [å®Œæ•´è¿æ¥æŒ‡å—](CHATGPT_CONNECTION_GUIDE.md)
- [OpenAI å¯¹é½æŠ¥å‘Š](docs/OPENAI_ALIGNMENT.md)
- [æ•…éšœæ’é™¤](docs/TROUBLESHOOTING.md)

---

**æœ€åæ›´æ–°**: 2025-10-10  
**æœ‰æ•ˆæœŸ**: ç›´åˆ° ngrok é‡å¯


